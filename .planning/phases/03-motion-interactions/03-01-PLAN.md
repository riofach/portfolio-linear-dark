---
phase: 03-motion-interactions
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - src/app/template.tsx
  - src/components/ui/PageTransition.tsx
  - src/components/ui/ScrollProgress.tsx
autonomous: true
must_haves:
  truths:
    - "Page content fades in/out smoothly when navigating"
    - "A progress bar at the top indicates scroll position"
    - "Framer Motion is installed and available"
  artifacts:
    - path: "src/components/ui/PageTransition.tsx"
      provides: "Motion wrapper for page content"
    - path: "src/components/ui/ScrollProgress.tsx"
      provides: "Scroll progress indicator"
  key_links:
    - from: "src/app/template.tsx"
      to: "src/components/ui/PageTransition.tsx"
      via: "wrapping children"
---

<objective>
Initialize the motion system using Framer Motion and implement global page transitions and scroll progress.

Purpose: Establish the base motion context for the "Linear" feel.
Output: A working page transition system and scroll indicator.
</objective>

<execution_context>
@./.opencode/get-shit-done/workflows/execute-plan.md
@./.opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/ROADMAP.md
@package.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install Framer Motion</name>
  <files>package.json</files>
  <action>
    Install `framer-motion` and `clsx` `tailwind-merge` (if not already present).
    Note: The project uses Next.js 16 (App Router).
  </action>
  <verify>grep "framer-motion" package.json</verify>
  <done>Package installed.</done>
</task>

<task type="auto">
  <name>Task 2: Create PageTransition Component</name>
  <files>src/components/ui/PageTransition.tsx, src/app/template.tsx</files>
  <action>
    1. Create `src/components/ui/PageTransition.tsx`:
       - Use "use client"
       - Accept `children` and `className`.
       - Use `motion.div` with initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: 20 }}.
       - Use a cubic-bezier ease (e.g., [0.22, 1, 0.36, 1]) for that "Linear" feel.
    2. Create/Update `src/app/template.tsx`:
       - This file re-mounts on navigation (unlike layout.tsx).
       - Wrap children in `<PageTransition>`.
  </action>
  <verify>Check if file exists and template imports it.</verify>
  <done>Pages animate on load/navigation.</done>
</task>

<task type="auto">
  <name>Task 3: Create ScrollProgress Component</name>
  <files>src/components/ui/ScrollProgress.tsx, src/app/layout.tsx</files>
  <action>
    1. Create `src/components/ui/ScrollProgress.tsx`:
       - Use `useScroll` from framer-motion.
       - Render a fixed `motion.div` at top (z-50) with `scaleX` linked to `scrollYProgress`.
       - Style: h-1 bg-primary origin-left.
    2. Import and add to `src/app/layout.tsx` (global usage).
  </action>
  <verify>Check file existence and layout integration.</verify>
  <done>Scroll bar appears at top of screen.</done>
</task>

</tasks>

<verification>
- Run dev server.
- Verify page load animation.
- Verify scroll progress bar movement.
</verification>

<success_criteria>
- Framer Motion installed.
- Smooth page transitions implemented via template.tsx.
- Scroll progress bar functional.
</success_criteria>

<output>
After completion, create `.planning/phases/03-motion-interactions/03-01-SUMMARY.md`
</output>
