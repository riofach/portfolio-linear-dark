---
id: "06-04"
title: "Data Layer: Queries & Fetch Utils"
status: todo
depends_on: ["06-02", "06-03"]
must_haves:
  - "sanity.client.ts provides typed fetch functions"
  - "GROQ queries are defined for all major content types"
  - "TypeScript interfaces match Sanity schemas"
---

# Data Layer

Set up the utilities to fetch and type data from Sanity.

## Tasks

### 1. Create GROQ Queries
Write optimized queries for fetching data.
-   Create `sanity/lib/queries.ts`.
-   Define `projectsQuery`, `postsQuery`, `profileQuery`.

### 2. Create Client Utilities
Setup the fetching logic with caching.
-   Create `sanity/lib/client.ts` (using `createClient`).
-   Create `sanity/lib/fetch.ts` (helper wrapper for `client.fetch`).

### 3. Define Types
Create TypeScript definitions for the Sanity data.
-   Create `types/sanity.d.ts` (or similar).
-   Define interfaces: `Project`, `Experience`, `Skill`, `Post`, `Settings`.
